<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>task-js</title>
    <script type="text/javascript" src="../task-js.js"></script>

</head>

<body>

    <script>
        //task 1
        //map the details and remove id and company

        //by map function
        var office =
            details.map(function(data) {
                // office.push(data.name, data.yob, data.gender, data.location);
                return {
                    'name': data.name,
                    'dateOfBirth': data.yob,
                    'Gender': data.gender,
                    'location': data.location
                }
            });
        console.log(office);
        console.table(office);

        //by foreach function
        // console.table(details);

        // var office = [];
        // details.forEach(function(item) {
        //     office.push(item.name, item.yob, item.gender, item.location);
        //     return office;
        // });
        // console.table(office);


        //task 2
        //filter to get the location is india 

        var indianpeople = details.filter(function(detail) {
            return detail.location === "India";
        });
        console.log(indianpeople);

        //filter to get the loction but not the id and company
        var peopleInIndia = office.filter(function(detail) {
            return detail.location === "India";
        });
        console.log(peopleInIndia);


        //filter to get the people whose yod is greater than 2000
        var yobpeople = details.filter(function(detail) {
            return detail.yob > 2000;
        });
        console.log(yobpeople);


        //task3
        //reduce to get all the number of females
        var totalfemales = details.reduce(function(sum, detail) {
            return sum + (detail.gender === "female");
        }, 0);
        console.log(totalfemales);



        //additional task i.e task 4
        var allData;

        function getMappedData() {
            var locationArray = details.filter(function(detail) {
                return detail.location === "Bangladesh";
            })
            var mappeddata = details.map(function(detail) {

                return {
                    'name': detail.name,
                    'location': detail.location,
                    'gender': detail.gender
                };
            });
            var totalNoofGenders = details.reduce(function(sum, detail) {
                return sum + (detail.gender === "male");
            }, 0);
            allData = {
                'filter': locationArray,
                'mapped': mappeddata,
                'reduce': totalNoofGenders
            }
        }
        getMappedData();
        console.log(allData);
    </script>
    <script>
        function myPersonObject(name, age, gender) {
            this.name = name,
                this.age = age,
                this.gender = gender
        }

        let suhasee = new myPersonObject("Suhasee", 18, "female");
        let nikita = new myPersonObject("Nikita", 18, "female");
        let laveena = new myPersonObject("Laveena", 18, "female");
        let sonakshi = new myPersonObject("Sonakshi", 18, "female");
        let piyush = new myPersonObject("Piyush", 18, "male");
        let prashant = new myPersonObject("Prashant", 18, "male");

        console.log(suhasee);
        // console.log(sonakshi.whoami());
        myPersonObject.prototype.whoami = function() {
            return "I am " + this.name + ", and I am a " + this.age + " year old " + this.gender;
        }
        console.log(sonakshi.whoami());
        console.log(nikita.whoami());
        console.log(laveena.whoami());
        console.log(sonakshi.whoami());
        console.log(piyush.whoami());
        console.log(prashant.whoami());
        console.log(suhasee.whoami());
        let speak = sonakshi.whoami(); // getting the text
        let msg = new SpeechSynthesisUtterance(speak); // creating a new speechSynthesisUtterance
        window.speechSynthesis.speak(msg); // Calling window speechSynthesis to speak

        var voices = window.speechSynthesis.getVoices();
        msg.voice = voices[10]; // try changing the number and hear different voices.
        msg.voiceURI = 'native';
        msg.volume = 1; // 0 to 1
        msg.rate = 1; // 0.1 to 10
        msg.pitch = 2; //0 to 2

        msg.text = prashant.whoami();
        window.speechSynthesis.speak(msg)
    </script>


</body>

</html>